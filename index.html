<!DOCTYPE html>
<html onresize="resize()">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<script src="http://code.jquery.com/jquery-2.0.0.min.js"></script>
	<title>Lost in Taste</title>
</head>
<style type="text/css">
	@media only screen and (max-width: 480px){
		#content{
			color: red;
			flex-direction: column;
		}
		#contentRight{
			display: none;
		}
	}
	body{
		background-image: url(https://www.foodiesfeed.com/wp-content/uploads/2019/06/top-view-for-box-of-2-burgers-home-made-413x619.jpg);
	}
	div{
		//border: 1px solid;
		text-align: center;
	}
	#ad{
		width: 80%;
		margin: 0% 10% 0% 10%;
		padding:2% 5% 2% 5%;
		position: fixed;
		transition-duration: 2s;
		background-color: #FEF9CA;
		display: grid;
		grid-template-rows: 2fr 8fr;
	}
	#content{
		display: flex;
		justify-content: space-around;
	}
	#contentLeft{
		flex-basis: 50%;
		display: flex;
		flex-direction: column;
		justify-content: space-around;
	}
	#contentImg{
		height: 90%;
		background-image: url(https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRi37qibZnZ0DFJmIi8-gYz7I69hw4tIopuGw&usqp=CAU);
		background-repeat: no-repeat;
		background-position: center;
		background-size: 100% 100%;
	}
	#insideImg{
		position: relative;
		top: 90%;
		color: white;
	}
	#goUp{
		border: 1px solid;
		border-radius: 50% 50% 50% 50%;
		cursor: pointer;
	}
	#body,#topProduct{
		width: 80%;
		margin: 0% 10% 3% 10%;
		border: 1px solid;
		box-shadow: 5px 5px 3px black;
		background-color: #FEF9CA;
	}
	#filter{
		background-color: #FBDA8E;
	}
	.input{
		border-radius: 5px 5px 5px 5px;
		border: #C9732E dashed;
		background-color: transparent;
	}
	#topYummiest{

	}
	.product{
		width: 90%;
		margin: 0% 5% 0% 5%;
        position: relative;
        z-index: 3;
		background-color: #FEF9CA;
	}
	.productImg{
        width: 80%;
        margin-left: 10%;
		background-repeat: no-repeat;
		background-position: center;
		border: 1px solid;
		background-size: 80% 80%;
		box-shadow: 5px 5px grey;
	}
	#info{
		float: right;
		background-color: #E5D9C1;
	}
</style>
<body>
	<div id="ad">
		<div id="header">
			<h1>"Một ngày chỉ có 24 giờ..."<h1>
			<h6>Thời gian trôi đi, ta càng già thêm,</h6>
			<h6>và ta càng ít cơ hội tận hưởng cuộc sống</h6>
		</div>
		<div id="content">
			<div id="contentLeft">
				<h5>Có bao giờ sự chú ý của bạn bị quyến rũ bởi mùi thơm nghi ngút,
						tiếng xèo xèo mỡ màng ngay bên tai, nhưng bạn chỉ nuốt nước bọt 
						và dỗ dành bé Dạ Dày "Để lần sau vậy"?</h5>
				<h5>Đừng tra tấn mình như vậy, thèm thì cứ ăn đi,
						mà tốt hơn, hãy tìm những món ngon xung quanh mình,
						đợi gì ngày mai, khi nó không bao giờ đến?</h5>
				<h6>"Ăn là để tồn tại, nếm mới là để sống"</h6>
				<h5>Góp phần mang cho bạn sức sống, trang web này giúp bạn 
						tìm món ngon quanh mình, một cách đơn giản, gọn nhẹ,
						không quảng cáo, không tải app, chỉ cần nhấn (X),
						Bon appetit!</h5>
			</div>
			<div id="contentRight">
				<div id="contentImg">
					<h6 id="insideImg">1 ngày trôi qua phải sống thêm được 1 trải nghiệm mới</h6>
				</div>
				<h5>Hãy để Lost in Taste mang đến bình minh</h5>
			</div>
		</div>
		<div id="footer">
			<span id="goUp" onclick="goUp()">-X-</span>
		</div>
	</div>
	<div id="body">
		<div id="filter">
	    <span>Loại:</span><select id="kind" class="input">
	        <option>Tất cả</option>
	        <option>Đồ Uống</option>
	        <option>Đồ ăn mặn</option>
	        <option>Đồ ăn ngọt</option>
	        <option>Địa điểm vui chơi</option>
	        <option>Review</option>
	    </select>
	    <span>Giá dưới:</span><input type="text" name="price" id="price" class="input" value="1000" ><span>000 VND</span>
	    <br/>
	    <span>Quận:</span><select id="district" class="input" value="1000" onchange="change()"><span>000 VND</span>
	    <br/> onchange="change()">
	        <option>Tất cả</option>
	        <option>Hoàn Kiếm</option>
	        <option>Đống Đa</option>
	        <option style="color: green">Ba Đình</option>
	        <option>Hai Bà Trưng</option>
	        <option>Hoàng Mai</option>
	        <option>Thanh Xuân</option>
	        <option>Long Biên</option>
	        <option>Nam Từ Liêm</option>
	        <option>Bắc Từ Liêm</option>
	        <option style="color: orange">Tây Hồ</option>
	        <option>Cầu Giấy</option>
	        <option> Hà Đông</option>
	    </select>
	    <span>Phường:</span><select id="province" class="input"><option>Tất cả</option></select>
	    <br/>
	    <button id="submit" style="background-color:#E39A33" onclick="sub()">Search</button>
		</div>
		<div id="response"></div>
	</div>
	<div id="topProduct">
		<span id="topYummiest">Top Yummiest:</span>
        <div id="top"></div>
	</div>
	<div id="info">
		INFO<br/>Adress: Tây Hồ Hà Nội<br/>Phone Number: 0987654321<br/> Linka:<a href="https://scontent.fhan5-2.fna.fbcdn.net/v/t1.0-9/66597679_1346711892154625_5870488757622276096_o.jpg?_nc_cat=110&_nc_sid=09cbfe&_nc_ohc=wOOI-vo-wd8AX9cOdNT&_nc_ht=scontent.fhan5-2.fna&oh=18c250cfad884099ebc5eefb7b3cc861&oe=5F17D9B4">Phạm Trung Hiếu</a><br/>
	</div>
</body>
<script type="text/javascript">
const ad=document.getElementById("ad");
const insideImg=document.getElementById("insideImg");
const body=document.getElementById("body");
const productImg=document.getElementsByClassName("productImg");
const info=document.getElementById("info");
const resize= ()=>{
	ad.style.height=window.innerHeight*4/5+"px";
	body.style.height=window.innerHeight*4/5+"px";
	insideImg.style.bottom=insideImg.clientHeight+"px";
	for(let i=0;i<productImg.length;i++){
		productImg[i].style.height=productImg[i].clientWidth+"px";
	}
}
resize();
const goUp= ()=>{
	ad.style.transform="translateY("+-window.innerHeight+"px)";
}
//Ajax
	const kind=document.getElementById("kind");
	const price=document.getElementById("price");
	const district=document.getElementById("district");
	const province=document.getElementById("province");
	const img=document.getElementById("img");
	const req= new XMLHttpRequest();
	req.onreadystatechange= ()=>{
		if(req.readyState==4&&req.status==200){
			province.innerHTML=req.responseText;
		}
	}
	const change= ()=>{
		let url="http://lostintaste.epizy.com/junkfood/district.php?district="+district.value;
		req.open("GET", url, true);
		req.send();
	}
  const reqSub= new XMLHttpRequest();
  reqSub.onreadystatechange= ()=>{
      if(reqSub.readyState==4&&reqSub.status==200){
          document.getElementById("response").innerHTML=reqSub.responseText;
          resize();
      }
  }
  const sub= ()=>{
      var urlSub="http://lostintaste.epizy.com/junkfood/search.php?kind="+kind.value
      +"&price="+price.value+"&district="+district.value+"&province="+province.value;
      reqSub.open("GET", urlSub, true);
      reqSub.send();
  }
  const reqTop= new XMLHttpRequest();
  reqTop.onreadystatechange= ()=>{
      if(reqTop.readyState==4&&reqTop.status==200){
          document.getElementById("top").innerHTML=reqTop.responseText;
          resize();
      }
  }
  reqTop.open("GET", "http://lostintaste.epizy.com/junkfood/topProduct.php?limit=5", true);
  reqTop.send();
</script>
</html>